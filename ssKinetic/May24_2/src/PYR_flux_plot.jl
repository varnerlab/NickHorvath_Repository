using PyPlot

num_flux = convert(Int64,readcsv("flux/num_flux")[1])

freq = 50
flux_array = readcsv("flux/$freq")

for i in 2*freq:freq:num_flux
    flux = readcsv("flux/$i")
    flux_array = [flux_array flux]
end

flux_array = sortrows(flux_array')' # This sorts the columns of flux_array, in case timepoints are out of order

Tsim = vec(flux_array[1,:])
flux_array = flux_array[2:end,:]

figure("PYR",figsize=(23,12.5))
subplot(5,5,1)
title("18: produces")
plot(Tsim,vec(flux_array[18,:]))
subplot(5,5,2)
title("21: consumes")
plot(Tsim,vec(flux_array[21,:]))
subplot(5,5,3)
title("22: consumes")
plot(Tsim,vec(flux_array[22,:]))
subplot(5,5,4)
title("38: produces")
plot(Tsim,vec(flux_array[38,:]))
subplot(5,5,5)
title("65: produces")
plot(Tsim,vec(flux_array[65,:]))
subplot(5,5,6)
title("66: produces")
plot(Tsim,vec(flux_array[66,:]))
subplot(5,5,7)
title("74: consumes")
plot(Tsim,vec(flux_array[74,:]))
subplot(5,5,8)
title("75: produces")
plot(Tsim,vec(flux_array[75,:]))
subplot(5,5,9)
title("76: consumes")
plot(Tsim,vec(flux_array[76,:]))
subplot(5,5,10)
title("77: consumes")
plot(Tsim,vec(flux_array[77,:]))
subplot(5,5,11)
title("90: consumes")
plot(Tsim,vec(flux_array[90,:]))
subplot(5,5,12)
title("91: consumes 2 units")
plot(Tsim,vec(flux_array[91,:]))
subplot(5,5,13)
title("92: produces")
plot(Tsim,vec(flux_array[92,:]))
subplot(5,5,14)
title("93: produces")
plot(Tsim,vec(flux_array[93,:]))
subplot(5,5,15)
title("98: produces")
plot(Tsim,vec(flux_array[98,:]))
subplot(5,5,16)
title("100: consumes 2 units")
plot(Tsim,vec(flux_array[100,:]))
subplot(5,5,17)
title("111: consumes")
plot(Tsim,vec(flux_array[111,:]))
subplot(5,5,18)
title("113: produces")
plot(Tsim,vec(flux_array[113,:]))
subplot(5,5,19)
title("114: consumes")
plot(Tsim,vec(flux_array[114,:]))
subplot(5,5,20)
title("115: produces")
plot(Tsim,vec(flux_array[115,:]))
subplot(5,5,21)
title("117: produces")
plot(Tsim,vec(flux_array[117,:]))
subplot(5,5,22)
title("118: produces")
plot(Tsim,vec(flux_array[118,:]))
subplot(5,5,23)
title("119: produces")
plot(Tsim,vec(flux_array[119,:]))
subplot(5,5,24)
title("128: produces")
plot(Tsim,vec(flux_array[128,:]))
subplot(5,5,25)
title("Net")
plot(Tsim,vec(flux_array[18,:]-flux_array[21,:]-flux_array[22,:]+flux_array[38,:]+flux_array[65,:]+flux_array[66,:]-flux_array[74,:]+flux_array[75,:]-flux_array[76,:]-flux_array[77,:]-flux_array[90,:]-2*flux_array[91,:]+flux_array[92,:]+flux_array[93,:]+flux_array[98,:]-2*flux_array[110,:]-flux_array[112,:]+flux_array[113,:]-flux_array[114,:]+flux_array[115,:]+flux_array[117,:]+flux_array[118,:]+flux_array[119,:]+flux_array[128,:]))
tight_layout()
