using PyPlot

num_flux = convert(Int64,readcsv("flux/num_flux")[1])

freq = 50
flux_array = readcsv("flux/$freq")

for i in 2*freq:freq:num_flux
    flux = readcsv("flux/$i")
    flux_array = [flux_array flux]
end

flux_array = sortrows(flux_array')' # This sorts the columns of flux_array, in case timepoints are out of order

Tsim = vec(flux_array[1,:])
flux_array = flux_array[2:end,:]

figure("NAD flux",figsize=(24,8))
subplot(4,8,1)
title("14: consumes")
plot(Tsim,vec(flux_array[14,:]))
subplot(4,8,2)
title("15: produces")
plot(Tsim,vec(flux_array[15,:]))
subplot(4,8,3)
title("25: consumes")
plot(Tsim,vec(flux_array[25,:]))
subplot(4,8,4)
title("48: consumes")
plot(Tsim,vec(flux_array[48,:]))
subplot(4,8,5)
title("55: consumes")
plot(Tsim,vec(flux_array[55,:]))
subplot(4,8,6)
title("56: produces")
plot(Tsim,vec(flux_array[56,:]))
subplot(4,8,7)
title("59: consumes")
plot(Tsim,vec(flux_array[59,:]))
subplot(4,8,8)
title("66: produces")
plot(Tsim,vec(flux_array[66,:]))
subplot(4,8,9)
title("67: consumes")
plot(Tsim,vec(flux_array[67,:]))
subplot(4,8,10)
title("68: produces")
plot(Tsim,vec(flux_array[68,:]))
subplot(4,8,11)
title("69: consumes")
plot(Tsim,vec(flux_array[69,:]))
subplot(4,8,12)
title("74: produces")
plot(Tsim,vec(flux_array[74,:]))
subplot(4,8,13)
title("75: consumes")
plot(Tsim,vec(flux_array[75,:]))
subplot(4,8,14)
title("76: produces")
plot(Tsim,vec(flux_array[76,:]))
subplot(4,8,15)
title("77: consumes")
plot(Tsim,vec(flux_array[77,:]))
subplot(4,8,16)
title("78: produces")
plot(Tsim,vec(flux_array[78,:]))
subplot(4,8,17)
title("87: consumes")
plot(Tsim,vec(flux_array[87,:]))
subplot(4,8,18)
title("109: consumes")
plot(Tsim,vec(flux_array[109,:]))
subplot(4,8,19)
title("111: consumes")
plot(Tsim,vec(flux_array[111,:]))
subplot(4,8,20)
title("116: consumes")
plot(Tsim,vec(flux_array[116,:]))
subplot(4,8,21)
title("119: consumes")
plot(Tsim,vec(flux_array[119,:]))
subplot(4,8,22)
title("121: consumes")
plot(Tsim,vec(flux_array[121,:]))
subplot(4,8,23)
title("122: consumes")
plot(Tsim,vec(flux_array[122,:]))
subplot(4,8,24)
title("124: consumes")
plot(Tsim,vec(flux_array[124,:]))
subplot(4,8,25)
title("125: consumes")
plot(Tsim,vec(flux_array[125,:]))
subplot(4,8,26)
title("126: consumes")
plot(Tsim,vec(flux_array[126,:]))
subplot(4,8,27)
title("127: consumes")
plot(Tsim,vec(flux_array[127,:]))
subplot(4,8,28)
title("129: consumes")
plot(Tsim,vec(flux_array[129,:]))
subplot(4,8,29)
title("130: consumes")
plot(Tsim,vec(flux_array[130,:]))
subplot(4,8,30)
title("136: consumes")
plot(Tsim,vec(flux_array[136,:]))
subplot(4,8,31)
title("143: consumes")
plot(Tsim,vec(flux_array[143,:]))
tight_layout()






